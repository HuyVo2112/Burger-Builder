(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[3],{97:function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__2vrrQ",Label:"BuildControl_Label__1iKED",Less:"BuildControl_Less__1iMoY",More:"BuildControl_More__2rGr2"}},98:function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__TxtBx",OrderButton:"BuildControls_OrderButton__IJUh4",enable:"BuildControls_enable__1jWRM"}},99:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(3),i=n(4),l=n(6),s=n(5),o=n(0),c=n.n(o),u=n(19),d=n(51),p=n(97),h=n.n(p),b=function(e){return c.a.createElement("div",{className:h.a.BuildControl},c.a.createElement("button",{onClick:e.removed,className:h.a.Less,disabled:e.disabled},"Less"),c.a.createElement("div",{className:h.a.Label},e.label),c.a.createElement("button",{onClick:e.added,className:h.a.More},"More"))},m=n(98),g=n.n(m),f=[{label:"Salad",type:"salad"},{label:"Bacon",type:"bacon"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}],C=function(e){return c.a.createElement("div",{className:g.a.BuildControls},c.a.createElement("p",null,"Current Price: ",c.a.createElement("strong",null,e.price.toFixed(2))),f.map((function(t){return c.a.createElement(b,{key:t.label,label:t.label,added:function(){return e.ingredientAdded(t.type)},removed:function(){return e.ingredientRemoved(t.type)},disabled:e.disabled[t.type]})})),c.a.createElement("button",{onClick:e.ordered,disabled:!e.purchaseable,className:g.a.OrderButton},e.isAuthenticated?"ORDER NOW":"SIGN UP TO ORDER"))},E=n(50),v=n(20),O=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.ingredients).map((function(t){return c.a.createElement("li",{key:t},c.a.createElement("span",{style:{textTransform:"capitalize"}},t),": ",e.props.ingredients[t])}));return c.a.createElement(u.a,null,c.a.createElement("h3",null,"Your Order"),c.a.createElement("p",null,"A delicious burger with the following ingredients: "),c.a.createElement("ul",null,t),c.a.createElement("p",null,c.a.createElement("strong",null,"Total Price: ",this.props.price.toFixed(2))),c.a.createElement("p",null,"Continue to Checkout?"),c.a.createElement(v.a,{btnType:"Danger",clicked:this.props.purchaseCancelled},"CANCEL"),c.a.createElement(v.a,{btnType:"Success",clicked:this.props.purchaseContinued},"CONTINUE"))}}]),n}(o.Component),_=n(17),y=n(24),B=n(30),k=n(9),H=n(15),j=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).updatePurchaseState=function(e){return Object.values(e).reduce((function(e,t){return e+t}))>0},r.purchaseHandler=function(){r.props.isAuthenticated?r.setState((function(e,t){return{purchasing:!0}})):(r.props.setAuthRedirectPathHandler("/checkout"),r.props.history.push("/auth"))},r.purchaseCancelHandler=function(){r.setState({purchasing:!1})},r.parseQueryParam=function(){var e="?";for(var t in r.props.ingredients)e+="".concat(t,"=").concat(r.props.ingredients[t],"&");return e+="totalPrice=".concat(r.props.totalPrice)},r.purchaseContinueHandler=function(){r.props.purchaseInitHandler(),r.props.history.push({pathname:"/checkout"})},r.state={purchasing:!1,loading:!1},r}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.getIngredientFromDatabaseHandler()}},{key:"render",value:function(){var e=Object(r.a)({},this.props.ingredients);for(var t in e)e[t]=e[t]<=0;var n=this.props.error?c.a.createElement("p",null,"Ingredients can't be loaded"):c.a.createElement(y.a,null),a=null;return this.props.ingredients&&(n=c.a.createElement(u.a,null,c.a.createElement(d.a,{ingredients:this.props.ingredients}),c.a.createElement(C,{isAuthenticated:this.props.isAuthenticated,ingredientAdded:this.props.addIngredientHandler,ingredientRemoved:this.props.removeIngredientHandler,disabled:e,price:this.props.totalPrice,purchaseable:this.updatePurchaseState(this.props.ingredients),ordered:this.purchaseHandler})),a=c.a.createElement(O,{ingredients:this.props.ingredients,purchaseContinued:this.purchaseContinueHandler,purchaseCancelled:this.purchaseCancelHandler,price:this.props.totalPrice})),this.state.loading&&(a=c.a.createElement(y.a,null)),c.a.createElement(u.a,null,c.a.createElement(E.a,{show:this.state.purchasing,modalClosed:this.purchaseCancelHandler},a),n)}}]),n}(o.Component);t.default=Object(k.b)((function(e){return{totalPrice:e.burger.totalPrice,ingredients:e.burger.ingredients,error:e.burger.error,isAuthenticated:null!==e.auth.tokenId}}),(function(e){return{addIngredientHandler:function(t){return e(H.a({ingredient:t}))},removeIngredientHandler:function(t){return e(H.i({ingredient:t}))},getIngredientFromDatabaseHandler:function(){return e(H.e())},purchaseInitHandler:function(){return e(H.h())},setAuthRedirectPathHandler:function(t){return e(H.j(t))}}}))(Object(B.a)(j,_.a))}}]);
//# sourceMappingURL=3.d5f684d6.chunk.js.map